import{r as t,j as e,G as l,T as s,V as g,W as j,S as f,N as u,O as y,Q as z,g as m,X as C,n as k}from"./index-B--JcbfN.js";import{C as b}from"./Card-B-FFYjJf.js";import{D as w}from"./FindRoomBar-taleCJq3.js";import{T as x}from"./TextInput-B3laeAGD.js";import{C as I}from"./Container-wVV1oD5k.js";function B(){const[o,n]=t.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(b,{shadow:"sm",padding:"lg",radius:"lg",withBorder:!0,style:{maxWidth:"100%",margin:"0"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx(l,{justify:"left",mb:"xs",children:e.jsx(s,{fw:600,children:"Lokale 3.11"})}),e.jsxs(l,{justify:"right",mb:"xs",children:[e.jsx(g,{size:20,color:"orange"}),e.jsx(s,{size:"sm",children:"10:00-11:00"}),e.jsx(j,{size:20,color:"orange"}),e.jsx(s,{size:"sm",children:"13 November 2024"})]})]}),e.jsx(f,{h:"xl"}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(l,{gap:"xl",align:"start",children:[e.jsxs(l,{gap:"xs",align:"center",children:[" ",e.jsx(u,{size:20}),e.jsx(s,{children:"2-8 pers."})]}),e.jsxs(l,{gap:"xs",align:"center",children:[" ",e.jsx(y,{size:20}),e.jsx(s,{children:"Skærm"})]}),e.jsxs(l,{gap:"xs",align:"center",children:[" ",e.jsx(z,{size:20}),e.jsx(s,{children:"Tavle"})]})]}),e.jsx(m,{color:"cyan",mt:"40px",radius:"xl",onClick:()=>n(!0),children:"Book"})]})]}),e.jsx(C,{opened:o,onClose:()=>n(!1),size:"lg",radius:"lg",centered:!0,padding:"xl",withCloseButton:!1,children:e.jsxs("div",{style:{display:"flex",gap:"20px"},children:[e.jsx(m,{style:{position:"absolute",top:"10px",right:"10px",padding:0,minWidth:"unset",height:"unset"},variant:"subtle",color:"gray",onClick:()=>n(!1),children:"X"}),e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"5px"},children:[e.jsx(s,{fw:600,children:"Lokale 3.11"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsx(g,{size:20,color:"orange"}),e.jsx(s,{size:"sm",children:"10:00-11:00"}),e.jsx(j,{size:20,color:"orange"}),e.jsx(s,{size:"sm",children:"13 November 2024"})]}),e.jsx(f,{h:"md"}),e.jsx(w,{orientation:"horizontal",style:{height:"15px"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsx(u,{size:20}),e.jsx(s,{size:"sm",children:"2-8 pers."}),e.jsx(y,{size:20}),e.jsx(s,{size:"sm",children:"Skærm"}),e.jsx(z,{size:20}),e.jsx(s,{size:"sm",children:"Tavle"})]})]}),e.jsxs("div",{style:{flex:1},children:[e.jsx(x,{placeholder:"Navn",mb:"md",radius:"xl"}),e.jsx(x,{placeholder:"Ansvarlig for booking",mb:"md",radius:"xl"}),e.jsx(x,{placeholder:"Email",mb:"md",radius:"xl"}),e.jsx(x,{placeholder:"Tlf",mb:"md",radius:"xl"}),e.jsx(m,{fullWidth:!0,color:"cyan",mt:"lg",radius:"xl",style:{float:"right"},onClick:()=>alert("Du Har Booket!"),children:"BOOK NU"})]})]})})]})}function D(){const[o,n]=t.useState([]),[h,a]=t.useState(""),[c,v]=t.useState(null);return t.useEffect(()=>{(async()=>{try{const r=supabase.auth.user();if(r){const{data:d,error:p}=await supabase.from("users").select("*").eq("email",r.email).single();p?(console.error("Error fetching user data:",p),a("Error fetching user information. Please try again later.")):v(d)}else a("User not logged in.")}catch(r){a("Unexpected error occurred while fetching user information."),console.error(r)}})()},[]),t.useEffect(()=>{(async()=>{try{const{data:r,error:d}=await supabase.from("rooms").select("*");d?(a("Error fetching rooms. Please try again later."),console.error(d)):n(r)}catch(r){a("Unexpected error occurred while fetching rooms."),console.error(r)}})()},[]),e.jsxs(I,{style:{display:"flex",flexDirection:"column",marginLeft:"auto",marginRight:"auto"},children:[e.jsx("h1",{className:"start",style:{fontSize:"2rem",marginBottom:"20px"},children:"Ledige Lokaler"}),c&&e.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[e.jsxs(s,{size:"sm",children:["Logged in as: ",c.first_name," ",c.last_name]}),e.jsxs(s,{size:"sm",children:["Role: ",c.role]})]}),h&&e.jsx(s,{color:"red",style:{marginBottom:"20px"},children:h}),o.length===0?e.jsx(k,{}):e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px",width:"100%"},children:o.map(i=>e.jsxs(b,{shadow:"sm",padding:"lg",style:{padding:"15px",borderRadius:"10px",backgroundColor:"#f9f9f9"},children:[e.jsx(s,{weight:500,children:i.name}),e.jsx(s,{size:"sm",children:i.type}),e.jsxs(s,{size:"sm",children:["Capacity: ",i.capacity]}),e.jsxs(s,{size:"sm",children:["Equipment: ",i.equipment]}),e.jsx(m,{style:{marginTop:"10px"},children:"Book Room"})]},i.id))}),e.jsx(B,{})]})}export{D as A};
