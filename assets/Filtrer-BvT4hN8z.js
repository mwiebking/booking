import{r as c,j as e,G as a,T as r,v as T,w as b,S as x,x as z,D as w,y as S,g as k,M as L,n as E,P as U}from"./index-D8YpNUcb.js";import{C as R}from"./Card-CXkbGagz.js";import{D}from"./FindRoomBar-CsIQATxL.js";import{T as f}from"./TextInput-CCCyOJw6.js";import{C as B}from"./Container-Ceglx9Hc.js";import{C as M}from"./Center-KdN0zOJU.js";import{T as h}from"./Title-BLLjC7W4.js";import{C as y}from"./Checkbox-Bll_0vNP.js";function N(){const[l,t]=c.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(R,{shadow:"sm",padding:"lg",radius:"lg",withBorder:!0,style:{maxWidth:"600px",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx(a,{justify:"left",mb:"xs",children:e.jsx(r,{fw:600,children:"Lokale 3.11"})}),e.jsxs(a,{justify:"right",mb:"xs",children:[e.jsx(T,{size:20,color:"orange"}),e.jsx(r,{size:"sm",children:"10:00-11:00"}),e.jsx(b,{size:20,color:"orange"}),e.jsx(r,{size:"sm",children:"13 November 2024"})]})]}),e.jsx(x,{h:"xl"}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(a,{gap:"xl",align:"start",children:[e.jsxs(a,{gap:"xs",align:"center",children:[" ",e.jsx(z,{size:20}),e.jsx(r,{children:"2-8 pers."})]}),e.jsxs(a,{gap:"xs",align:"center",children:[" ",e.jsx(w,{size:20}),e.jsx(r,{children:"Skærm"})]}),e.jsxs(a,{gap:"xs",align:"center",children:[" ",e.jsx(S,{size:20}),e.jsx(r,{children:"Tavle"})]})]}),e.jsx(k,{color:"cyan",mt:"40px",radius:"xl",onClick:()=>t(!0),children:"Book"})]})]}),e.jsx(L,{opened:l,onClose:()=>t(!1),size:"lg",radius:"lg",centered:!0,padding:"xl",withCloseButton:!1,children:e.jsxs("div",{style:{display:"flex",gap:"20px"},children:[e.jsx(k,{style:{position:"absolute",top:"10px",right:"10px",padding:0,minWidth:"unset",height:"unset"},variant:"subtle",color:"gray",onClick:()=>t(!1),children:"X"}),e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"5px"},children:[e.jsx(r,{fw:600,children:"Lokale 3.11"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsx(T,{size:20,color:"orange"}),e.jsx(r,{size:"sm",children:"10:00-11:00"}),e.jsx(b,{size:20,color:"orange"}),e.jsx(r,{size:"sm",children:"13 November 2024"})]}),e.jsx(x,{h:"md"}),e.jsx(D,{orientation:"horizontal",style:{height:"15px"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsx(z,{size:20}),e.jsx(r,{size:"sm",children:"2-8 pers."}),e.jsx(w,{size:20}),e.jsx(r,{size:"sm",children:"Skærm"}),e.jsx(S,{size:20}),e.jsx(r,{size:"sm",children:"Tavle"})]})]}),e.jsxs("div",{style:{flex:1},children:[e.jsx(f,{placeholder:"Navn",mb:"md",radius:"xl"}),e.jsx(f,{placeholder:"Ansvarlig for booking",mb:"md",radius:"xl"}),e.jsx(f,{placeholder:"Email",mb:"md",radius:"xl"}),e.jsx(f,{placeholder:"Tlf",mb:"md",radius:"xl"}),e.jsx(k,{fullWidth:!0,color:"cyan",mt:"lg",radius:"xl",style:{float:"right"},onClick:()=>alert("Du Har Booket!"),children:"BOOK NU"})]})]})})]})}function G(){const[l,t]=c.useState([]),[u,o]=c.useState(""),[m,v]=c.useState(null);return c.useEffect(()=>{(async()=>{try{const i=supabase.auth.user();if(i){const{data:d,error:s}=await supabase.from("users").select("*").eq("email",i.email).single();s?(console.error("Error fetching user data:",s),o("Error fetching user information. Please try again later.")):v(d)}else o("User not logged in.")}catch(i){o("Unexpected error occurred while fetching user information."),console.error(i)}})()},[]),c.useEffect(()=>{(async()=>{try{const{data:i,error:d}=await supabase.from("rooms").select("*");d?(o("Error fetching rooms. Please try again later."),console.error(d)):t(i)}catch(i){o("Unexpected error occurred while fetching rooms."),console.error(i)}})()},[]),e.jsxs(B,{style:{display:"flex",flexDirection:"column",marginLeft:"auto",marginRight:"auto"},children:[e.jsx("h1",{className:"start",style:{fontSize:"2rem",marginBottom:"20px"},children:"Ledige Lokaler"}),m&&e.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[e.jsxs(r,{size:"sm",children:["Logged in as: ",m.first_name," ",m.last_name]}),e.jsxs(r,{size:"sm",children:["Role: ",m.role]})]}),u&&e.jsx(r,{color:"red",style:{marginBottom:"20px"},children:u}),l.length===0?e.jsx(E,{}):e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px",width:"100%"},children:l.map(n=>e.jsxs(R,{shadow:"sm",padding:"lg",style:{padding:"15px",borderRadius:"10px",backgroundColor:"#f9f9f9"},children:[e.jsx(r,{weight:500,children:n.name}),e.jsx(r,{size:"sm",children:n.type}),e.jsxs(r,{size:"sm",children:["Capacity: ",n.capacity]}),e.jsxs(r,{size:"sm",children:["Equipment: ",n.equipment]}),e.jsx(k,{style:{marginTop:"10px"},children:"Book Room"})]},n.id))}),e.jsx(N,{})]})}const _=()=>{const[l,t]=c.useState({lokaleType:[],tidsrum:[],skaerm:[],tavle:[]}),u=["Kontor 2-8 pers","Mødelokale 2-8 pers","Mødelokale 8-10 pers","Undervisningslokale 20-35 pers","Undervisningslokale 30-45 pers"],o=["8:00-9:00","9:00-10:00","10:00-11:00","11:00-12:00","12:00-13:00","13:00-14:00","14:00-15:00","15:00-16:00","16:00-17:00"],m=["Lille","Stor"],v=["Ja","Nej"],n=[{name:"Room A",lokaleType:"Kontor 2-8 pers",tidsrum:"8:00-9:00",skaerm:"Lille",tavle:"Ja"},{name:"Room B",lokaleType:"Mødelokale 2-8 pers",tidsrum:"10:00-11:00",skaerm:"Stor",tavle:"Nej"},{name:"Room C",lokaleType:"Undervisningslokale 20-35 pers",tidsrum:"11:00-12:00",skaerm:"Lille",tavle:"Ja"},{name:"Room D",lokaleType:"Mødelokale 8-10 pers",tidsrum:"9:00-10:00",skaerm:"Stor",tavle:"Nej"}],i=(s,p)=>{t(g=>{const j=g[s],C=j.includes(p)?j.filter(I=>I!==p):[...j,p];return{...g,[s]:C}})},d=n.filter(s=>{const p=l.lokaleType.length===0||l.lokaleType.includes(s.lokaleType),g=l.tidsrum.length===0||l.tidsrum.includes(s.tidsrum),j=l.skaerm.length===0||l.skaerm.includes(s.skaerm),C=l.tavle.length===0||l.tavle.includes(s.tavle);return p&&g&&j&&C});return e.jsx(B,{size:"lg",style:{height:"100vh"},children:e.jsx(M,{style:{flex:0},children:e.jsxs(U,{withBorder:!0,shadow:"md",p:30,radius:"md",style:{width:"400px",display:"flex",flexDirection:"column"},children:[e.jsx(h,{align:"left",mb:"sm",children:"Filter Search"}),e.jsx(x,{h:"md"}),e.jsxs("div",{children:[e.jsx(h,{order:4,children:"Lokale Type"}),e.jsx(a,{mt:"xs",spacing:"xs",children:u.map(s=>e.jsx(y,{label:s,checked:l.lokaleType.includes(s),onChange:()=>i("lokaleType",s)},s))})]}),e.jsx(x,{h:"md"}),e.jsxs("div",{children:[e.jsx(h,{order:4,children:"Tidsrum"}),e.jsx(a,{mt:"xs",spacing:"xs",children:o.map(s=>e.jsx(y,{label:s,checked:l.tidsrum.includes(s),onChange:()=>i("tidsrum",s)},s))})]}),e.jsx(x,{h:"md"}),e.jsxs("div",{children:[e.jsx(h,{order:4,children:"Skærm"}),e.jsx(a,{mt:"xs",spacing:"xs",children:m.map(s=>e.jsx(y,{label:s,checked:l.skaerm.includes(s),onChange:()=>i("skaerm",s)},s))})]}),e.jsx(x,{h:"md"}),e.jsxs("div",{children:[e.jsx(h,{order:4,children:"Tavle"}),e.jsx(a,{mt:"xs",spacing:"xs",children:v.map(s=>e.jsx(y,{label:s,checked:l.tavle.includes(s),onChange:()=>i("tavle",s)},s))})]}),e.jsx(x,{h:"md"}),e.jsxs("div",{children:[e.jsx(h,{order:4,children:"Search Results"}),d.length>0?e.jsx("ul",{children:d.map(s=>e.jsx("li",{children:s.name},s.name))}):e.jsx("p",{children:"No results match your criteria."})]})]})})})};export{G as A,_ as F};
