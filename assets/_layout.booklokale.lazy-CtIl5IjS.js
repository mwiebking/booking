import{t as z,p as w,u as N,j as e,o as B,d as E,r as y,P as L,h as M,V as D,T as p,B as F,$ as _,S as k,G as f,c as A}from"./index-hqYhYQDt.js";import{C as P}from"./Container-C9o8TTcX.js";import{C as U}from"./Center-bfD-743E.js";import{T as j}from"./Title-BQ66iaqG.js";import{C as v}from"./Checkbox-DUnjnWXg.js";import{D as I}from"./Divider-Hn2muV5M.js";import"./Input-j_6GdnTD.js";import"./CheckIcon-BU1xfW1f.js";const[J,q]=z("Card component was not found in tree");var R={root:"m_e615b15f",section:"m_599a2148"};const G={},C=w((r,l)=>{const n=N("CardSection",G,r),{classNames:i,className:t,style:o,styles:d,vars:c,withBorder:x,inheritPadding:s,mod:m,...h}=n,a=q();return e.jsx(B,{ref:l,mod:[{"with-border":x,"inherit-padding":s},m],...a.getStyles("section",{className:t,style:o,styles:d,classNames:i}),...h})});C.classes=R;C.displayName="@mantine/core/CardSection";const K={},V=M((r,{padding:l})=>({root:{"--card-padding":D(l)}})),S=w((r,l)=>{const n=N("Card",K,r),{classNames:i,className:t,style:o,styles:d,unstyled:c,vars:x,children:s,padding:m,...h}=n,a=E({name:"Card",props:n,classes:R,className:t,style:o,classNames:i,styles:d,unstyled:c,vars:x,varsResolver:V}),u=y.Children.toArray(s),T=u.map((g,b)=>typeof g=="object"&&g&&"type"in g&&g.type===C?y.cloneElement(g,{"data-first-section":b===0||void 0,"data-last-section":b===u.length-1||void 0}):g);return e.jsx(J,{value:{getStyles:a},children:e.jsx(L,{ref:l,unstyled:c,...a("root"),...h,children:T})})});S.classes=R;S.displayName="@mantine/core/Card";S.Section=C;function $(){const[r,l]=y.useState([]),[n,i]=y.useState("");return y.useEffect(()=>{(async()=>{try{const{data:o,error:d}=await _.from("rooms").select("*");d?(i("Error fetching rooms. Please try again later."),console.error(d)):l(o)}catch(o){i("Unexpected error occurred. Please try again."),console.error(o)}})()},[]),e.jsxs(P,{style:{display:"flex",flexDirection:"column",alignItems:"center",marginLeft:"auto",marginRight:"auto"},children:[e.jsx("h1",{style:{fontSize:"2rem",marginBottom:"20px"},children:"Ledige Lokaler"}),n&&e.jsx(p,{color:"red",style:{marginBottom:"20px"},children:n}),r.length===0?e.jsxs(B,{style:{backgroundColor:"#e0e0e0",padding:"20px",borderRadius:"10px",textAlign:"center",width:"100%",marginTop:"20px"},children:[e.jsx(p,{weight:700,style:{fontSize:"1.2rem"},children:"Ingen ledige lokaler på nuværende tidspunkt"}),e.jsx(p,{style:{fontSize:"1rem"},children:"Søg en anden dato eller tidspunkt, for at finde ledige lokaler du kan booke."})]}):e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px",width:"100%"},children:r.map(t=>e.jsxs(S,{shadow:"sm",padding:"lg",style:{padding:"15px",borderRadius:"10px",backgroundColor:"#f9f9f9"},children:[e.jsx(p,{weight:500,children:t.name}),e.jsx(p,{size:"sm",children:t.type}),e.jsxs(p,{size:"sm",children:["Capacity: ",t.capacity]}),e.jsxs(p,{size:"sm",children:["Equipment: ",t.equipment]}),e.jsx(F,{style:{marginTop:"10px"},children:"Book Room"})]},t.id))})]})}const H=()=>{const[r,l]=y.useState({lokaleType:[],tidsrum:[],skaerm:[],tavle:[]}),n=["Kontor 2-8 pers","Mødelokale 2-8 pers","Mødelokale 8-10 pers","Undervisningslokale 20-35 pers","Undervisningslokale 30-45 pers"],i=["8:00-9:00","9:00-10:00","10:00-11:00","11:00-12:00","12:00-13:00","13:00-14:00","14:00-15:00","15:00-16:00","16:00-17:00"],t=["Lille","Stor"],o=["Ja","Nej"],d=[{name:"Room A",lokaleType:"Kontor 2-8 pers",tidsrum:"8:00-9:00",skaerm:"Lille",tavle:"Ja"},{name:"Room B",lokaleType:"Mødelokale 2-8 pers",tidsrum:"10:00-11:00",skaerm:"Stor",tavle:"Nej"},{name:"Room C",lokaleType:"Undervisningslokale 20-35 pers",tidsrum:"11:00-12:00",skaerm:"Lille",tavle:"Ja"},{name:"Room D",lokaleType:"Mødelokale 8-10 pers",tidsrum:"9:00-10:00",skaerm:"Stor",tavle:"Nej"}],c=(s,m)=>{l(h=>{const a=h[s],u=a.includes(m)?a.filter(T=>T!==m):[...a,m];return{...h,[s]:u}})},x=d.filter(s=>{const m=r.lokaleType.length===0||r.lokaleType.includes(s.lokaleType),h=r.tidsrum.length===0||r.tidsrum.includes(s.tidsrum),a=r.skaerm.length===0||r.skaerm.includes(s.skaerm),u=r.tavle.length===0||r.tavle.includes(s.tavle);return m&&h&&a&&u});return e.jsx(P,{size:"lg",style:{height:"100vh",display:"flex"},children:e.jsx(U,{style:{flex:0},children:e.jsxs(L,{withBorder:!0,shadow:"md",p:30,radius:"md",style:{width:"400px",display:"flex",flexDirection:"column"},children:[e.jsx(j,{align:"left",mb:"sm",children:"Filter Search"}),e.jsx(k,{h:"md"}),e.jsxs("div",{children:[e.jsx(j,{order:4,children:"Lokale Type"}),e.jsx(f,{mt:"xs",spacing:"xs",children:n.map(s=>e.jsx(v,{label:s,checked:r.lokaleType.includes(s),onChange:()=>c("lokaleType",s)},s))})]}),e.jsx(k,{h:"md"}),e.jsxs("div",{children:[e.jsx(j,{order:4,children:"Tidsrum"}),e.jsx(f,{mt:"xs",spacing:"xs",children:i.map(s=>e.jsx(v,{label:s,checked:r.tidsrum.includes(s),onChange:()=>c("tidsrum",s)},s))})]}),e.jsx(k,{h:"md"}),e.jsxs("div",{children:[e.jsx(j,{order:4,children:"Skærm"}),e.jsx(f,{mt:"xs",spacing:"xs",children:t.map(s=>e.jsx(v,{label:s,checked:r.skaerm.includes(s),onChange:()=>c("skaerm",s)},s))})]}),e.jsx(k,{h:"md"}),e.jsxs("div",{children:[e.jsx(j,{order:4,children:"Tavle"}),e.jsx(f,{mt:"xs",spacing:"xs",children:o.map(s=>e.jsx(v,{label:s,checked:r.tavle.includes(s),onChange:()=>c("tavle",s)},s))})]}),e.jsx(k,{h:"md"}),e.jsxs("div",{children:[e.jsx(j,{order:4,children:"Search Results"}),x.length>0?e.jsx("ul",{children:x.map(s=>e.jsx("li",{children:s.name},s.name))}):e.jsx("p",{children:"No results match your criteria."})]})]})})})},te=A("/_layout/booklokale")({component:O});function O(){return e.jsxs("div",{style:{display:"flex",height:"100vh"},children:[e.jsx("div",{style:{flex:2},children:e.jsx(H,{})}),e.jsx(I,{orientation:"vertical",style:{height:"100%"}}),e.jsx("div",{style:{flex:3},children:e.jsx($,{})})]})}export{te as Route};
