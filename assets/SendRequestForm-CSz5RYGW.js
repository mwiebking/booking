import{r as f,f as R,a as T,j as n,N as le,k as P,l as U,n as G,z as ce,a3 as de,_ as J,B as A,M as ue}from"./index-BApeXCQ0.js";import{T as V}from"./Title-68I0Mlhc.js";import{T as S}from"./TextInput-33wPISQc.js";import{T as y}from"./Text-CXs1S8RB.js";import{I as Y}from"./InputBase-byYZQ_IW.js";var me={};function ge(){return typeof process<"u"&&me?"production":"development"}function H(){return H=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},H.apply(null,arguments)}function he(t,e){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.includes(s))continue;r[s]=t[s]}return r}var pe=f.useLayoutEffect,fe=function(e){var r=f.useRef(e);return pe(function(){r.current=e}),r},M=function(e,r){if(typeof e=="function"){e(r);return}e.current=r},be=function(e,r){var s=f.useRef();return f.useCallback(function(o){e.current=o,s.current&&M(s.current,null),s.current=r,r&&M(r,o)},[r])},D={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},ve=function(e){Object.keys(D).forEach(function(r){e.style.setProperty(r,D[r],"important")})},$=ve,p=null,K=function(e,r){var s=e.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?s+r.borderSize:s-r.paddingSize};function ye(t,e,r,s){r===void 0&&(r=1),s===void 0&&(s=1/0),p||(p=document.createElement("textarea"),p.setAttribute("tabindex","-1"),p.setAttribute("aria-hidden","true"),$(p)),p.parentNode===null&&document.body.appendChild(p);var o=t.paddingSize,a=t.borderSize,l=t.sizingStyle,d=l.boxSizing;Object.keys(l).forEach(function(g){var b=g;p.style[b]=l[b]}),$(p),p.value=e;var c=K(p,t);p.value=e,c=K(p,t),p.value="x";var m=p.scrollHeight-o,i=m*r;d==="border-box"&&(i=i+o+a),c=Math.max(i,c);var u=m*s;return d==="border-box"&&(u=u+o+a),c=Math.min(u,c),[c,m]}var q=function(){},xe=function(e,r){return e.reduce(function(s,o){return s[o]=r[o],s},{})},ke=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],Se=!!document.documentElement.currentStyle,_e=function(e){var r=window.getComputedStyle(e);if(r===null)return null;var s=xe(ke,r),o=s.boxSizing;if(o==="")return null;Se&&o==="border-box"&&(s.width=parseFloat(s.width)+parseFloat(s.borderRightWidth)+parseFloat(s.borderLeftWidth)+parseFloat(s.paddingRight)+parseFloat(s.paddingLeft)+"px");var a=parseFloat(s.paddingBottom)+parseFloat(s.paddingTop),l=parseFloat(s.borderBottomWidth)+parseFloat(s.borderTopWidth);return{sizingStyle:s,paddingSize:a,borderSize:l}},we=_e;function X(t,e,r){var s=fe(r);f.useLayoutEffect(function(){var o=function(l){return s.current(l)};if(t)return t.addEventListener(e,o),function(){return t.removeEventListener(e,o)}},[])}var je=function(e){X(window,"resize",e)},Le=function(e){X(document.fonts,"loadingdone",e)},Re=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],Te=function(e,r){var s=e.cacheMeasurements,o=e.maxRows,a=e.minRows,l=e.onChange,d=l===void 0?q:l,c=e.onHeightChange,m=c===void 0?q:c,i=he(e,Re),u=i.value!==void 0,g=f.useRef(null),b=be(g,r),v=f.useRef(0),_=f.useRef(),x=function(){var k=g.current,C=s&&_.current?_.current:we(k);if(C){_.current=C;var O=ye(C,k.value||k.placeholder||"x",a,o),L=O[0],ae=O[1];v.current!==L&&(v.current=L,k.style.setProperty("height",L+"px","important"),m(L,{rowHeight:ae}))}},z=function(k){u||x(),d(k)};return f.useLayoutEffect(x),je(x),Le(x),f.createElement("textarea",H({},i,{onChange:z,ref:b}))},ze=f.forwardRef(Te);const Ce={},E=R((t,e)=>{const{autosize:r,maxRows:s,minRows:o,__staticSelector:a,resize:l,...d}=T("Textarea",Ce,t),c=r&&ge()!=="test",m=c?{maxRows:s,minRows:o}:{};return n.jsx(Y,{component:c?ze:"textarea",ref:e,...d,__staticSelector:a||"Textarea",multiline:!0,"data-no-overflow":r&&s===void 0||void 0,__vars:{"--input-resize":l},...m})});E.classes=Y.classes;E.displayName="@mantine/core/Textarea";const[He,Pe]=le("List component was not found in tree");var F={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const Ee={},I=R((t,e)=>{const r=T("ListItem",Ee,t),{classNames:s,className:o,style:a,styles:l,vars:d,icon:c,children:m,mod:i,...u}=r,g=Pe(),b=c||g.icon,v={classNames:s,styles:l};return n.jsx(P,{...g.getStyles("item",{...v,className:o,style:a}),component:"li",mod:[{"with-icon":!!b,centered:g.center},i],ref:e,...u,children:n.jsxs("div",{...g.getStyles("itemWrapper",v),children:[b&&n.jsx("span",{...g.getStyles("itemIcon",v),children:b}),n.jsx("span",{...g.getStyles("itemLabel",v),children:m})]})})});I.classes=F;I.displayName="@mantine/core/ListItem";const Fe={type:"unordered"},Ie=G((t,{size:e,spacing:r})=>({root:{"--list-fz":ce(e),"--list-lh":de(e),"--list-spacing":J(r)}})),N=R((t,e)=>{const r=T("List",Fe,t),{classNames:s,className:o,style:a,styles:l,unstyled:d,vars:c,children:m,type:i,withPadding:u,icon:g,spacing:b,center:v,listStyleType:_,mod:x,...z}=r,j=U({name:"List",classes:F,props:r,className:o,style:a,classNames:s,styles:l,unstyled:d,vars:c,varsResolver:Ie});return n.jsx(He,{value:{center:v,icon:g,getStyles:j},children:n.jsx(P,{...j("root",{style:{listStyleType:_}}),component:i==="unordered"?"ul":"ol",mod:[{"with-padding":u},x],ref:e,...z,children:m})})});N.classes=F;N.displayName="@mantine/core/List";N.Item=I;var Z={root:"m_6d731127"};const Ne={gap:"md",align:"stretch",justify:"flex-start"},Be=G((t,{gap:e,align:r,justify:s})=>({root:{"--stack-gap":J(e),"--stack-align":r,"--stack-justify":s}})),B=R((t,e)=>{const r=T("Stack",Ne,t),{classNames:s,className:o,style:a,styles:l,unstyled:d,vars:c,align:m,justify:i,gap:u,variant:g,...b}=r,v=U({name:"Stack",props:r,classes:Z,className:o,style:a,classNames:s,styles:l,unstyled:d,vars:c,varsResolver:Be});return n.jsx(P,{ref:e,...v("root"),variant:g,...b})});B.classes=Z;B.displayName="@mantine/core/Stack";class w{constructor(e=0,r="Network Error"){this.status=e,this.text=r}}const We=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},h={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:We()},W=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},Oe=(t,e="https://api.emailjs.com")=>{if(!t)return;const r=W(t);h.publicKey=r.publicKey,h.blockHeadless=r.blockHeadless,h.storageProvider=r.storageProvider,h.blockList=r.blockList,h.limitRate=r.limitRate,h.origin=r.origin||e},Q=async(t,e,r={})=>{const s=await fetch(h.origin+t,{method:"POST",headers:r,body:e}),o=await s.text(),a=new w(s.status,o);if(s.ok)return a;throw a},ee=(t,e,r)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Ae=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},te=t=>t.webdriver||!t.languages||t.languages.length===0,re=()=>new w(451,"Unavailable For Headless Browser"),Ve=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},Me=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},De=(t,e)=>t instanceof FormData?t.get(e):t[e],se=(t,e)=>{if(Me(t))return!1;Ve(t.list,t.watchVariable);const r=De(e,t.watchVariable);return typeof r!="string"?!1:t.list.includes(r)},oe=()=>new w(403,"Forbidden"),$e=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},Ke=async(t,e,r)=>{const s=Number(await r.get(t)||0);return e-Date.now()+s},ne=async(t,e,r)=>{if(!e.throttle||!r)return!1;$e(e.throttle,e.id);const s=e.id||t;return await Ke(s,e.throttle,r)>0?!0:(await r.set(s,Date.now().toString()),!1)},ie=()=>new w(429,"Too Many Requests"),qe=async(t,e,r,s)=>{const o=W(s),a=o.publicKey||h.publicKey,l=o.blockHeadless||h.blockHeadless,d=o.storageProvider||h.storageProvider,c={...h.blockList,...o.blockList},m={...h.limitRate,...o.limitRate};return l&&te(navigator)?Promise.reject(re()):(ee(a,t,e),Ae(r),r&&se(c,r)?Promise.reject(oe()):await ne(location.pathname,m,d)?Promise.reject(ie()):Q("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:t,template_id:e,template_params:r}),{"Content-type":"application/json"}))},Ue=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},Ge=t=>typeof t=="string"?document.querySelector(t):t,Je=async(t,e,r,s)=>{const o=W(s),a=o.publicKey||h.publicKey,l=o.blockHeadless||h.blockHeadless,d=h.storageProvider||o.storageProvider,c={...h.blockList,...o.blockList},m={...h.limitRate,...o.limitRate};if(l&&te(navigator))return Promise.reject(re());const i=Ge(r);ee(a,t,e),Ue(i);const u=new FormData(i);return se(c,u)?Promise.reject(oe()):await ne(location.pathname,m,d)?Promise.reject(ie()):(u.append("lib_version","4.4.1"),u.append("service_id",t),u.append("template_id",e),u.append("user_id",a),Q("/api/v1.0/email/send-form",u))},Ye={init:Oe,send:qe,sendForm:Je,EmailJSResponseStatus:w},rt=()=>{const t=f.useRef(),[e,r]=f.useState({to_name:"",booking_responsible:"",user_email:"",user_phone:"",booking_date:"",booking_time:"",message:""}),[s,o]=f.useState({}),[a,l]=f.useState(!1),d=i=>{const{name:u,value:g}=i.target;r({...e,[u]:g}),o({...s,[u]:""})},c=()=>{const i={};return e.to_name.trim()||(i.to_name="Indtast Navn"),e.booking_responsible.trim()||(i.booking_responsible="Indtast navn på ansvarlig for booking"),e.user_email.trim()||(i.user_email="Indtast email"),e.user_phone.trim()||(i.user_phone="Indtast telefonnummer"),e.booking_date.trim()||(i.booking_date="Vælg en dato"),e.booking_time.trim()||(i.booking_time="Indtast tidspunkt"),e.message.trim()||(i.message="Indtast beskrivelse"),o(i),Object.keys(i).length===0},m=i=>{i.preventDefault(),c()&&Ye.sendForm("service_3s435am","template_hpf5ept",t.current,"cfybL9CgdNoqUBI0-").then(()=>{console.log("SUCCESS!"),l(!0),r({to_name:"",booking_responsible:"",user_email:"",user_phone:"",booking_date:"",booking_time:"",message:""})},u=>{console.log("FAILED...",u.text)})};return n.jsxs("div",{style:{maxWidth:500,margin:"0 auto",padding:"1rem"},children:[n.jsx(V,{order:2,style:{marginBottom:"1rem"},children:"Send forespørgsel"}),n.jsx("form",{ref:t,onSubmit:m,children:n.jsxs(B,{spacing:"md",children:[n.jsxs("div",{children:[n.jsx(S,{label:"Navn",placeholder:"Indtast dit navn",radius:"xl",style:{backgroundColor:"white"},name:"to_name",value:e.to_name,onChange:d}),s.to_name&&n.jsx(y,{color:"red",size:"sm",children:s.to_name})]}),n.jsxs("div",{children:[n.jsx(S,{label:"Ansvarlig for booking",placeholder:"Hvem står for bookingen?",radius:"xl",style:{backgroundColor:"white"},name:"booking_responsible",value:e.booking_responsible,onChange:d}),s.booking_responsible&&n.jsx(y,{color:"red",size:"sm",children:s.booking_responsible})]}),n.jsxs("div",{children:[n.jsx(S,{label:"Email",placeholder:"Indtast din email",type:"email",radius:"xl",style:{backgroundColor:"white"},name:"user_email",value:e.user_email,onChange:d}),s.user_email&&n.jsx(y,{color:"red",size:"sm",children:s.user_email})]}),n.jsxs("div",{children:[n.jsx(S,{label:"Tlf",placeholder:"Indtast dit telefonnummer",type:"tel",radius:"xl",style:{backgroundColor:"white"},name:"user_phone",value:e.user_phone,onChange:d}),s.user_phone&&n.jsx(y,{color:"red",size:"sm",children:s.user_phone})]}),n.jsxs("div",{children:[n.jsx(S,{label:"Dato",placeholder:"Vælg dato",type:"date",radius:"xl",style:{backgroundColor:"white"},name:"booking_date",value:e.booking_date,onChange:d}),s.booking_date&&n.jsx(y,{color:"red",size:"sm",children:s.booking_date})]}),n.jsxs("div",{children:[n.jsx(S,{label:"Tidsrum",placeholder:"Indtast tidsrum (eks. 10:00-12:00)",radius:"xl",style:{backgroundColor:"white"},name:"booking_time",value:e.booking_time,onChange:d}),s.booking_time&&n.jsx(y,{color:"red",size:"sm",children:s.booking_time})]}),n.jsxs("div",{children:[n.jsx(E,{label:"Beskrivelse",placeholder:"Skriv om du vil låne auditorium, medialab eller makerlab og beskriv hvorfor.",radius:"md",style:{backgroundColor:"white"},name:"message",value:e.message,onChange:d}),s.message&&n.jsx(y,{color:"red",size:"sm",children:s.message})]}),n.jsx(A,{fullWidth:!0,radius:"xl",type:"submit",style:{backgroundColor:"#1098AD"},children:"SEND FORESPØRGSEL"})]})}),n.jsx(ue,{opened:a,onClose:()=>l(!1),size:"md",radius:"lg",centered:!0,padding:"xl",withCloseButton:!1,children:n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("img",{src:"./checkmark.jpg",width:40}),n.jsx(V,{order:3,style:{marginBottom:"1rem"},children:"Forespørgsel sendt!"}),n.jsx(A,{onClick:()=>l(!1),radius:"xl",children:"Luk"})]})})]})};export{N as L,B as S,rt as a};
